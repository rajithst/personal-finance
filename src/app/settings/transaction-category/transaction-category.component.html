<mat-card>
  <mat-card-header>
    <mat-card-title>Category settings</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <mat-accordion multi="true" class="transaction-item-panel">
      @for (data of categorySettings; track data; let i = $index) {
        <mat-expansion-panel class="transaction-panel">
          <mat-expansion-panel-header>
            <mat-panel-title>{{ data.category.category}}</mat-panel-title>

            <mat-panel-description>
              <div class="panel-actions" (click)="$event.stopPropagation()">
                <fa-icon
                  (click)="editCategory(data)"
                  [icon]="faPencil"
                  size="sm"
                  [style]="{ color: '#3699ff' }"
                ></fa-icon>
              </div>
            </mat-panel-description>
          </mat-expansion-panel-header>
          <table mat-table [dataSource]="data.subCategories!">
            <ng-container matColumnDef="name">
              <th mat-header-cell *matHeaderCellDef> Sub Category </th>
              <td mat-cell *matCellDef="let element"> {{element.name}} </td>
            </ng-container>
            <ng-container matColumnDef="description">
              <th mat-header-cell *matHeaderCellDef> Description </th>
              <td mat-cell *matCellDef="let element"> {{element.description}} </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
          </table>
        </mat-expansion-panel>
      }
    </mat-accordion>
  </mat-card-content>
</mat-card>
